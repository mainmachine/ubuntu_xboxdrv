# xboxdrv.conf
# Please, DO NOT EDIT THIS FILE. Edit /etc/default/xboxdrv
start on filesystem
pre-start script
    rm -f /dev/input/js*
end script
script
    # Edit /etc/default/xboxdrv to change these options
    FORCE_FEEDBACK=false
    MIMIC_XPAD=true
    TRIGGER_AS_BUTTON=true
    XBOXDRV_OPTIONS=""
    CONTROLLER0_OPTIONS=""
    CONTROLLER1_OPTIONS=""
    CONTROLLER2_OPTIONS=""
    CONTROLLER3_OPTIONS=""
    # Read configuration variable file if it is present
    if [ -f /etc/default/xboxdrv ] ; then
        . /etc/default/xboxdrv
    fi
    # This will store all pad options from /etc/default/xboxdrv
    PAD_OPTIONS=""
    # Checking if user has enabled forcefeedback
    if [ "$FORCE_FEEDBACK" = true ] ; then
        PAD_OPTIONS="$PAD_OPTIONS --force-feedback"
    fi
    # Checking if user has enabled mimic_xpad
    if [ "$MIMIC_XPAD" = true ] ; then
        PAD_OPTIONS="$PAD_OPTIONS --mimic-xpad --mimic-xpad-wireless"
    fi
    # Checking if user is using trigger as buttons instead of zaxis
    if [ "$TRIGGER_AS_BUTTON" = true ] ; then
        PAD_OPTIONS="$PAD_OPTIONS --trigger-as-button"
    fi
    # Adding --detache-kernel-driver
    PAD_OPTIONS="$PAD_OPTIONS --detach-kernel-driver"
    xboxdrv --daemon --silent --dbus disabled $XBOXDRV_OPTIONS $PAD_OPTIONS $CONTROLLER0_OPTIONS --next-controller $PAD_OPTIONS $CONTROLLER1_OPTIONS --next-controller $PAD_OPTIONS $CONTROLLER2_OPTIONS --next-controller $PAD_OPTIONS $CONTROLLER3_OPTIONS
end script
